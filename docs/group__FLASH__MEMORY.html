<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>cdfr2020CarteCerveauProg: flash_memory</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">cdfr2020CarteCerveauProg
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">flash_memory</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1716acf04f1856cf3ff19e8f75a4142b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FLASH__MEMORY.html#ga1716acf04f1856cf3ff19e8f75a4142b">flash_program_data</a> (uint8_t sector, uint8_t *input_data, uint16_t num_elements)</td></tr>
<tr class="memdesc:ga1716acf04f1856cf3ff19e8f75a4142b"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function programs data into the rom of the STM32.  <a href="#ga1716acf04f1856cf3ff19e8f75a4142b">More...</a><br /></td></tr>
<tr class="separator:ga1716acf04f1856cf3ff19e8f75a4142b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa15d487659cf22ca02454de3a9042de8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__FLASH__MEMORY.html#gaa15d487659cf22ca02454de3a9042de8">flash_read_data</a> (uint32_t start_address, uint16_t num_elements, uint8_t *poutput_data)</td></tr>
<tr class="memdesc:gaa15d487659cf22ca02454de3a9042de8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function reads data in the rom of the STM32.  <a href="#gaa15d487659cf22ca02454de3a9042de8">More...</a><br /></td></tr>
<tr class="separator:gaa15d487659cf22ca02454de3a9042de8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="member-group"></a>
Rom memory structure</h2></td></tr>
<tr><td class="ititle" colspan="2"><p><a class="anchor" id="amgrp01dbefa5514c8c10dd9fbb6c4e50135b"></a>These define the addresses use to operate on the rom part of the memory This organization is dependant on the very structure of the memory on the Âµcontroller You must check the documentation and allocate enough memory for your program and ram and reserve some of it for your storage in the linked script </p>
</td></tr>
<tr class="memitem:ga4f6475c53c3bad891c20f14504545b87"><td class="memItemLeft" align="right" valign="top"><a id="ga4f6475c53c3bad891c20f14504545b87"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_OPERATION_ADDRESS</b>&#160;&#160;&#160;((uint32_t)0x08020000)</td></tr>
<tr class="separator:ga4f6475c53c3bad891c20f14504545b87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga88bde61af57ea7774326f9e00ec9b38b"><td class="memItemLeft" align="right" valign="top"><a id="ga88bde61af57ea7774326f9e00ec9b38b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_SECTOR_NUM_MAX</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:ga88bde61af57ea7774326f9e00ec9b38b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae9560b79ebc5c7d96bea3c0821a0373a"><td class="memItemLeft" align="right" valign="top"><a id="gae9560b79ebc5c7d96bea3c0821a0373a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_SECTOR_SIZE</b>&#160;&#160;&#160;128000</td></tr>
<tr class="separator:gae9560b79ebc5c7d96bea3c0821a0373a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2618c097a9f7213a8b01afbcf0d3936e"><td class="memItemLeft" align="right" valign="top"><a id="ga2618c097a9f7213a8b01afbcf0d3936e"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>RESULT_OK</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga2618c097a9f7213a8b01afbcf0d3936e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga081e15cc044cf15654dc1e3adeff4977"><td class="memItemLeft" align="right" valign="top"><a id="ga081e15cc044cf15654dc1e3adeff4977"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>FLASH_PROGRAM_SIZE</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga081e15cc044cf15654dc1e3adeff4977"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga1716acf04f1856cf3ff19e8f75a4142b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1716acf04f1856cf3ff19e8f75a4142b">&#9670;&nbsp;</a></span>flash_program_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t flash_program_data </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>sector</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>input_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num_elements</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function programs data into the rom of the STM32. </p>
<p>STM32 F4 has big sectors that can be programmed </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sector</td><td>adress of the sector to program (it will be overwritten /!) </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">input_data</td><td>data to program </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_elements</td><td>number of byte of input_data </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error status (success=0) </dd></dl>

</div>
</div>
<a id="gaa15d487659cf22ca02454de3a9042de8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa15d487659cf22ca02454de3a9042de8">&#9670;&nbsp;</a></span>flash_read_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_read_data </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>num_elements</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>poutput_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function reads data in the rom of the STM32. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">start_address</td><td>memory adress to start reading from </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_elements</td><td>number of bytes to read </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">poutput_data</td><td>pointer to the byte array where the read data will be stored </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
